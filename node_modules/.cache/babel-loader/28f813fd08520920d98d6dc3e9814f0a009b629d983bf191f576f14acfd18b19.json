{"ast":null,"code":"import _objectSpread from\"/Users/waleed/Documents/GitHub/Cadbury3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{useSortable}from'@dnd-kit/sortable';import{CSS}from'@dnd-kit/utilities';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SortableCompanyField(_ref){let{field,onRemove,onLabelChange,onContentChange,section}=_ref;// Drag and drop functionality\nconst{attributes,listeners,setNodeRef,transform,transition}=useSortable({id:field.id});// Apply drag transform styles\nconst style={transform:CSS.Transform.toString(transform),transition};// Event handlers\nconst handleRemove=()=>{if(onRemove){onRemove(field.id);}};const handleLabelChange=event=>{if(onLabelChange){onLabelChange(field.id,event.target.textContent);}};const handleContentChange=event=>{if(onContentChange){onContentChange(field.id,event.target.textContent,section);}};const handleKeyDown=e=>{if(e.key==='Enter'){e.preventDefault();e.target.blur();}};return/*#__PURE__*/_jsxs(\"div\",{ref:setNodeRef,style:style,className:\"field-item\",\"data-field\":field.id,children:[!field.isTitle&&/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread(_objectSpread({className:\"drag-handle\"},attributes),listeners),{},{children:\"::\"})),/*#__PURE__*/_jsxs(\"div\",{className:\"field-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"field-label editable-label \".concat(field.isTitle?'title-field':''),contentEditable:!field.isTitle,suppressContentEditableWarning:true,onBlur:handleLabelChange,onKeyDown:handleKeyDown,\"data-is-title\":field.isTitle,style:field.isTitle?{fontSize:'32px',fontWeight:'bold',color:'#000000',textAlign:'center',display:'block',width:'100%',marginBottom:'10px'}:{},children:field.label}),!field.isTitle&&/*#__PURE__*/_jsx(\"span\",{id:field.id,className:\"editable-field\",contentEditable:\"true\",\"data-placeholder\":field.placeholder,dangerouslySetInnerHTML:{__html:field.value||field.placeholder}})]}),onRemove&&!field.isTitle&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"remove-field-btn\",onClick:handleRemove,title:\"Remove field\",children:\"\\xD7\"})]});}export default SortableCompanyField;","map":{"version":3,"names":["React","useSortable","CSS","jsx","_jsx","jsxs","_jsxs","SortableCompanyField","_ref","field","onRemove","onLabelChange","onContentChange","section","attributes","listeners","setNodeRef","transform","transition","id","style","Transform","toString","handleRemove","handleLabelChange","event","target","textContent","handleContentChange","handleKeyDown","e","key","preventDefault","blur","ref","className","children","isTitle","_objectSpread","concat","contentEditable","suppressContentEditableWarning","onBlur","onKeyDown","fontSize","fontWeight","color","textAlign","display","width","marginBottom","label","placeholder","dangerouslySetInnerHTML","__html","value","type","onClick","title"],"sources":["/Users/waleed/Documents/GitHub/Cadbury3/src/components/SortableCompanyField.jsx"],"sourcesContent":["import React from 'react';\nimport { useSortable } from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\n\nfunction SortableCompanyField({ field, onRemove, onLabelChange, onContentChange, section }) {\n  // Drag and drop functionality\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n  } = useSortable({ id: field.id });\n\n  // Apply drag transform styles\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n\n  // Event handlers\n  const handleRemove = () => {\n    if (onRemove) {\n      onRemove(field.id);\n    }\n  };\n\n  const handleLabelChange = (event) => {\n    if (onLabelChange) {\n      onLabelChange(field.id, event.target.textContent);\n    }\n  };\n\n  const handleContentChange = (event) => {\n    if (onContentChange) {\n      onContentChange(field.id, event.target.textContent, section);\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      e.target.blur();\n    }\n  };\n\n  return (\n    <div ref={setNodeRef} style={style} className=\"field-item\" data-field={field.id}>\n      {/* Drag Handle - Only show for non-title fields */}\n      {!field.isTitle && (\n        <div className=\"drag-handle\" {...attributes} {...listeners}>\n          ::\n        </div>\n      )}\n\n      {/* Field Content */}\n      <div className=\"field-content\">\n        <span \n          className={`field-label editable-label ${field.isTitle ? 'title-field' : ''}`}\n          contentEditable={!field.isTitle}\n          suppressContentEditableWarning={true}\n          onBlur={handleLabelChange}\n          onKeyDown={handleKeyDown}\n          data-is-title={field.isTitle}\n          style={field.isTitle ? {\n            fontSize: '32px',\n            fontWeight: 'bold',\n            color: '#000000',\n            textAlign: 'center',\n            display: 'block',\n            width: '100%',\n            marginBottom: '10px'\n          } : {}}\n        >\n          {field.label}\n        </span>\n        {!field.isTitle && (\n          <span \n            id={field.id} \n            className=\"editable-field\" \n            contentEditable=\"true\" \n            data-placeholder={field.placeholder}\n            dangerouslySetInnerHTML={{ __html: field.value || field.placeholder }}\n          />\n        )}\n      </div>\n\n      {/* Remove Button (only for non-title fields) */}\n      {onRemove && !field.isTitle && (\n        <button \n          type=\"button\" \n          className=\"remove-field-btn\"\n          onClick={handleRemove}\n          title=\"Remove field\"\n        >\n          Ã—\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default SortableCompanyField;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}