{"ast":null,"code":"// AI provider hook - uses a proxy endpoint to keep API keys off the client\n// Expects env var REACT_APP_AI_PROXY_URL pointing to a serverless function or backend route\n\nexport function useAIProvider() {\n  const proxyUrl = process.env.REACT_APP_AI_PROXY_URL;\n  async function getFieldSuggestions(payload) {\n    if (!proxyUrl) {\n      throw new Error('AI proxy URL not configured. Set REACT_APP_AI_PROXY_URL');\n    }\n    const res = await fetch(proxyUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    });\n    if (!res.ok) {\n      const text = await res.text();\n      throw new Error(`AI proxy error ${res.status}: ${text}`);\n    }\n\n    // Expected shape: { suggestions: { [fieldId]: value, ... } }\n    const data = await res.json();\n    return data;\n  }\n  return {\n    getFieldSuggestions\n  };\n}","map":{"version":3,"names":["useAIProvider","proxyUrl","process","env","REACT_APP_AI_PROXY_URL","getFieldSuggestions","payload","Error","res","fetch","method","headers","body","JSON","stringify","ok","text","status","data","json"],"sources":["/Users/waleed/Documents/GitHub/Cadbury3/src/hooks/useAIProvider.js"],"sourcesContent":["// AI provider hook - uses a proxy endpoint to keep API keys off the client\n// Expects env var REACT_APP_AI_PROXY_URL pointing to a serverless function or backend route\n\nexport function useAIProvider() {\n  const proxyUrl = process.env.REACT_APP_AI_PROXY_URL;\n\n  async function getFieldSuggestions(payload) {\n    if (!proxyUrl) {\n      throw new Error('AI proxy URL not configured. Set REACT_APP_AI_PROXY_URL');\n    }\n\n    const res = await fetch(proxyUrl, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(payload)\n    });\n\n    if (!res.ok) {\n      const text = await res.text();\n      throw new Error(`AI proxy error ${res.status}: ${text}`);\n    }\n\n    // Expected shape: { suggestions: { [fieldId]: value, ... } }\n    const data = await res.json();\n    return data;\n  }\n\n  return { getFieldSuggestions };\n}\n\n\n"],"mappings":"AAAA;AACA;;AAEA,OAAO,SAASA,aAAaA,CAAA,EAAG;EAC9B,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB;EAEnD,eAAeC,mBAAmBA,CAACC,OAAO,EAAE;IAC1C,IAAI,CAACL,QAAQ,EAAE;MACb,MAAM,IAAIM,KAAK,CAAC,yDAAyD,CAAC;IAC5E;IAEA,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACR,QAAQ,EAAE;MAChCS,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,OAAO;IAC9B,CAAC,CAAC;IAEF,IAAI,CAACE,GAAG,CAACO,EAAE,EAAE;MACX,MAAMC,IAAI,GAAG,MAAMR,GAAG,CAACQ,IAAI,CAAC,CAAC;MAC7B,MAAM,IAAIT,KAAK,CAAC,kBAAkBC,GAAG,CAACS,MAAM,KAAKD,IAAI,EAAE,CAAC;IAC1D;;IAEA;IACA,MAAME,IAAI,GAAG,MAAMV,GAAG,CAACW,IAAI,CAAC,CAAC;IAC7B,OAAOD,IAAI;EACb;EAEA,OAAO;IAAEb;EAAoB,CAAC;AAChC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}