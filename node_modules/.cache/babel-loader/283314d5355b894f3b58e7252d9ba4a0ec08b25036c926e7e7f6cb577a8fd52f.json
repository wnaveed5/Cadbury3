{"ast":null,"code":"import _objectSpread from\"/Users/waleed/Documents/GitHub/Cadbury3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{DndContext,closestCenter}from'@dnd-kit/core';import{SortableContext,verticalListSortingStrategy,useSortable}from'@dnd-kit/sortable';import{CSS}from'@dnd-kit/utilities';import SortableCompanyField from'./SortableCompanyField';// Draggable Section Header Component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function DraggableSectionHeader(_ref){let{children,id}=_ref;const{attributes,listeners,setNodeRef,transform,transition}=useSortable({id});const style={transform:CSS.Transform.toString(transform),transition};return/*#__PURE__*/_jsxs(\"div\",{ref:setNodeRef,style:style,className:\"section-header-with-handle\",children:[/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread(_objectSpread({className:\"section-drag-handle\"},attributes),listeners),{},{title:\"Drag to reorder sections\",children:\"::\"})),children]});}function Section1CompanyInfo(_ref2){let{companyFields,sensors,onCompanyDragEnd,onAddCompanyField,onRemoveCompanyField,onLabelChange,onContentChange,lastModified}=_ref2;// Handler for adding new company fields\nconst handleAddField=()=>{const newField={id:\"company-field-\".concat(Date.now(),\"-\").concat(Math.random().toString(36).substr(2,9)),label:'New Field:',placeholder:'Enter field value'};onAddCompanyField(newField);};// Log field changes to console for tracking\nReact.useEffect(()=>{// Only log when there are actual changes, not on initial render\nif(companyFields.length>0){console.log('ðŸ”„ Company Fields Updated:',{totalFields:companyFields.length,lastModified:new Date(lastModified).toLocaleString(),fields:companyFields.map((field,index)=>({position:index+1,id:field.id,label:field.label,placeholder:field.placeholder}))});}},[companyFields,lastModified]);return/*#__PURE__*/_jsxs(\"div\",{className:\"company-info-section\",children:[/*#__PURE__*/_jsx(DraggableSectionHeader,{id:\"section1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"section-title\",children:\"Section 1\"})}),/*#__PURE__*/_jsx(DndContext,{sensors:sensors,collisionDetection:closestCenter,onDragEnd:onCompanyDragEnd,children:/*#__PURE__*/_jsx(SortableContext,{items:companyFields.map(field=>field.id),strategy:verticalListSortingStrategy,children:/*#__PURE__*/_jsx(\"div\",{className:\"company-fields-container\",children:companyFields.map(field=>/*#__PURE__*/_jsx(SortableCompanyField,{field:field,onRemove:onRemoveCompanyField,onLabelChange:onLabelChange,onContentChange:onContentChange,section:\"company\"},field.id))})})}),/*#__PURE__*/_jsx(\"div\",{className:\"add-field-section\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"add-field-btn\",onClick:handleAddField,children:\"+ Add Field\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"console-info\",children:/*#__PURE__*/_jsx(\"small\",{style:{color:'#6b7280',fontStyle:'italic'},children:\"\\uD83D\\uDCA1 Check browser console (F12) to see field tracking information\"})})]});}export default Section1CompanyInfo;","map":{"version":3,"names":["React","DndContext","closestCenter","SortableContext","verticalListSortingStrategy","useSortable","CSS","SortableCompanyField","jsx","_jsx","jsxs","_jsxs","DraggableSectionHeader","_ref","children","id","attributes","listeners","setNodeRef","transform","transition","style","Transform","toString","ref","className","_objectSpread","title","Section1CompanyInfo","_ref2","companyFields","sensors","onCompanyDragEnd","onAddCompanyField","onRemoveCompanyField","onLabelChange","onContentChange","lastModified","handleAddField","newField","concat","Date","now","Math","random","substr","label","placeholder","useEffect","length","console","log","totalFields","toLocaleString","fields","map","field","index","position","collisionDetection","onDragEnd","items","strategy","onRemove","section","type","onClick","color","fontStyle"],"sources":["/Users/waleed/Documents/GitHub/Cadbury3/src/components/Section1CompanyInfo.jsx"],"sourcesContent":["import React from 'react';\nimport { DndContext, closestCenter } from '@dnd-kit/core';\nimport { SortableContext, verticalListSortingStrategy, useSortable } from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport SortableCompanyField from './SortableCompanyField';\n\n// Draggable Section Header Component\nfunction DraggableSectionHeader({ children, id }) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n  } = useSortable({ id });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n\n  return (\n    <div ref={setNodeRef} style={style} className=\"section-header-with-handle\">\n      <div className=\"section-drag-handle\" {...attributes} {...listeners} title=\"Drag to reorder sections\">\n        ::\n      </div>\n      {children}\n    </div>\n  );\n}\n\nfunction Section1CompanyInfo({ \n  companyFields, \n  sensors, \n  onCompanyDragEnd,\n  onAddCompanyField,\n  onRemoveCompanyField,\n  onLabelChange,\n  onContentChange,\n  lastModified\n}) {\n  // Handler for adding new company fields\n  const handleAddField = () => {\n    const newField = {\n      id: `company-field-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n      label: 'New Field:',\n      placeholder: 'Enter field value'\n    };\n    onAddCompanyField(newField);\n  };\n\n  // Log field changes to console for tracking\n  React.useEffect(() => {\n    // Only log when there are actual changes, not on initial render\n    if (companyFields.length > 0) {\n      console.log('ðŸ”„ Company Fields Updated:', {\n        totalFields: companyFields.length,\n        lastModified: new Date(lastModified).toLocaleString(),\n        fields: companyFields.map((field, index) => ({\n          position: index + 1,\n          id: field.id,\n          label: field.label,\n          placeholder: field.placeholder\n        }))\n      });\n    }\n  }, [companyFields, lastModified]);\n\n  return (\n    <div className=\"company-info-section\">\n      {/* Section Header with Drag Handle */}\n      <DraggableSectionHeader id=\"section1\">\n        <div className=\"section-title\">Section 1</div>\n      </DraggableSectionHeader>\n      \n      {/* Company Fields with Drag and Drop */}\n      <DndContext \n        sensors={sensors}\n        collisionDetection={closestCenter}\n        onDragEnd={onCompanyDragEnd}\n      >\n        <SortableContext \n          items={companyFields.map(field => field.id)}\n          strategy={verticalListSortingStrategy}\n        >\n          <div className=\"company-fields-container\">\n            {companyFields.map(field => (\n              <SortableCompanyField \n                key={field.id} \n                field={field} \n                onRemove={onRemoveCompanyField}\n                onLabelChange={onLabelChange}\n                onContentChange={onContentChange}\n                section=\"company\"\n              />\n            ))}\n          </div>\n        </SortableContext>\n      </DndContext>\n      \n      {/* Add Field Button */}\n      <div className=\"add-field-section\">\n        <button \n          type=\"button\" \n          className=\"add-field-btn\"\n          onClick={handleAddField}\n        >\n          + Add Field\n        </button>\n      </div>\n\n      {/* Console Info */}\n      <div className=\"console-info\">\n        <small style={{ color: '#6b7280', fontStyle: 'italic' }}>\n          ðŸ’¡ Check browser console (F12) to see field tracking information\n        </small>\n      </div>\n    </div>\n  );\n}\n\nexport default Section1CompanyInfo;\n"],"mappings":"4HAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,UAAU,CAAEC,aAAa,KAAQ,eAAe,CACzD,OAASC,eAAe,CAAEC,2BAA2B,CAAEC,WAAW,KAAQ,mBAAmB,CAC7F,OAASC,GAAG,KAAQ,oBAAoB,CACxC,MAAO,CAAAC,oBAAoB,KAAM,wBAAwB,CAEzD;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,QAAS,CAAAC,sBAAsBA,CAAAC,IAAA,CAAmB,IAAlB,CAAEC,QAAQ,CAAEC,EAAG,CAAC,CAAAF,IAAA,CAC9C,KAAM,CACJG,UAAU,CACVC,SAAS,CACTC,UAAU,CACVC,SAAS,CACTC,UACF,CAAC,CAAGf,WAAW,CAAC,CAAEU,EAAG,CAAC,CAAC,CAEvB,KAAM,CAAAM,KAAK,CAAG,CACZF,SAAS,CAAEb,GAAG,CAACgB,SAAS,CAACC,QAAQ,CAACJ,SAAS,CAAC,CAC5CC,UACF,CAAC,CAED,mBACET,KAAA,QAAKa,GAAG,CAAEN,UAAW,CAACG,KAAK,CAAEA,KAAM,CAACI,SAAS,CAAC,4BAA4B,CAAAX,QAAA,eACxEL,IAAA,OAAAiB,aAAA,CAAAA,aAAA,CAAAA,aAAA,EAAKD,SAAS,CAAC,qBAAqB,EAAKT,UAAU,EAAMC,SAAS,MAAEU,KAAK,CAAC,0BAA0B,CAAAb,QAAA,CAAC,IAErG,EAAK,CAAC,CACLA,QAAQ,EACN,CAAC,CAEV,CAEA,QAAS,CAAAc,mBAAmBA,CAAAC,KAAA,CASzB,IAT0B,CAC3BC,aAAa,CACbC,OAAO,CACPC,gBAAgB,CAChBC,iBAAiB,CACjBC,oBAAoB,CACpBC,aAAa,CACbC,eAAe,CACfC,YACF,CAAC,CAAAR,KAAA,CACC;AACA,KAAM,CAAAS,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAAC,QAAQ,CAAG,CACfxB,EAAE,kBAAAyB,MAAA,CAAmBC,IAAI,CAACC,GAAG,CAAC,CAAC,MAAAF,MAAA,CAAIG,IAAI,CAACC,MAAM,CAAC,CAAC,CAACrB,QAAQ,CAAC,EAAE,CAAC,CAACsB,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CAC5EC,KAAK,CAAE,YAAY,CACnBC,WAAW,CAAE,mBACf,CAAC,CACDd,iBAAiB,CAACM,QAAQ,CAAC,CAC7B,CAAC,CAED;AACAvC,KAAK,CAACgD,SAAS,CAAC,IAAM,CACpB;AACA,GAAIlB,aAAa,CAACmB,MAAM,CAAG,CAAC,CAAE,CAC5BC,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAE,CACxCC,WAAW,CAAEtB,aAAa,CAACmB,MAAM,CACjCZ,YAAY,CAAE,GAAI,CAAAI,IAAI,CAACJ,YAAY,CAAC,CAACgB,cAAc,CAAC,CAAC,CACrDC,MAAM,CAAExB,aAAa,CAACyB,GAAG,CAAC,CAACC,KAAK,CAAEC,KAAK,IAAM,CAC3CC,QAAQ,CAAED,KAAK,CAAG,CAAC,CACnB1C,EAAE,CAAEyC,KAAK,CAACzC,EAAE,CACZ+B,KAAK,CAAEU,KAAK,CAACV,KAAK,CAClBC,WAAW,CAAES,KAAK,CAACT,WACrB,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CACF,CAAC,CAAE,CAACjB,aAAa,CAAEO,YAAY,CAAC,CAAC,CAEjC,mBACE1B,KAAA,QAAKc,SAAS,CAAC,sBAAsB,CAAAX,QAAA,eAEnCL,IAAA,CAACG,sBAAsB,EAACG,EAAE,CAAC,UAAU,CAAAD,QAAA,cACnCL,IAAA,QAAKgB,SAAS,CAAC,eAAe,CAAAX,QAAA,CAAC,WAAS,CAAK,CAAC,CACxB,CAAC,cAGzBL,IAAA,CAACR,UAAU,EACT8B,OAAO,CAAEA,OAAQ,CACjB4B,kBAAkB,CAAEzD,aAAc,CAClC0D,SAAS,CAAE5B,gBAAiB,CAAAlB,QAAA,cAE5BL,IAAA,CAACN,eAAe,EACd0D,KAAK,CAAE/B,aAAa,CAACyB,GAAG,CAACC,KAAK,EAAIA,KAAK,CAACzC,EAAE,CAAE,CAC5C+C,QAAQ,CAAE1D,2BAA4B,CAAAU,QAAA,cAEtCL,IAAA,QAAKgB,SAAS,CAAC,0BAA0B,CAAAX,QAAA,CACtCgB,aAAa,CAACyB,GAAG,CAACC,KAAK,eACtB/C,IAAA,CAACF,oBAAoB,EAEnBiD,KAAK,CAAEA,KAAM,CACbO,QAAQ,CAAE7B,oBAAqB,CAC/BC,aAAa,CAAEA,aAAc,CAC7BC,eAAe,CAAEA,eAAgB,CACjC4B,OAAO,CAAC,SAAS,EALZR,KAAK,CAACzC,EAMZ,CACF,CAAC,CACC,CAAC,CACS,CAAC,CACR,CAAC,cAGbN,IAAA,QAAKgB,SAAS,CAAC,mBAAmB,CAAAX,QAAA,cAChCL,IAAA,WACEwD,IAAI,CAAC,QAAQ,CACbxC,SAAS,CAAC,eAAe,CACzByC,OAAO,CAAE5B,cAAe,CAAAxB,QAAA,CACzB,aAED,CAAQ,CAAC,CACN,CAAC,cAGNL,IAAA,QAAKgB,SAAS,CAAC,cAAc,CAAAX,QAAA,cAC3BL,IAAA,UAAOY,KAAK,CAAE,CAAE8C,KAAK,CAAE,SAAS,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAtD,QAAA,CAAC,4EAEzD,CAAO,CAAC,CACL,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAc,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}