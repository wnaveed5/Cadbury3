{"ast":null,"code":"import _objectSpread from\"/Users/waleed/Documents/GitHub/Cadbury3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{DndContext,closestCenter}from'@dnd-kit/core';import{SortableContext,verticalListSortingStrategy,useSortable}from'@dnd-kit/sortable';import{CSS}from'@dnd-kit/utilities';import SortableShipToField from'./SortableShipToField';// Draggable Section Header Component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function DraggableSectionHeader(_ref){let{children,id}=_ref;const{attributes,listeners,setNodeRef,transform,transition}=useSortable({id});const style={transform:CSS.Transform.toString(transform),transition};return/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread(_objectSpread({ref:setNodeRef,style:style,className:\"section-header\"},attributes),listeners),{},{title:\"Drag to reorder sections\",children:[children,/*#__PURE__*/_jsx(\"span\",{className:\"drag-indicator\",style:{float:'right',opacity:1,fontSize:'12px',marginRight:'8px',color:'#7c3aed'},children:\"::\"})]}));}function Section4ShipTo(_ref2){let{shipToFields,sensors,onShipToDragEnd,onAddShipToField,onRemoveShipToField,onLabelChange,onContentChange,lastModified}=_ref2;// Handler for adding new ship-to fields\nconst handleAddField=()=>{const newField={id:\"ship-to-field-\".concat(Date.now(),\"-\").concat(Math.random().toString(36).substr(2,9)),label:'New Field:',placeholder:'Enter field value'};onAddShipToField(newField);};// Log field changes to console for tracking\nReact.useEffect(()=>{// Only log when there are actual changes, not on initial render\nif(shipToFields.length>0){console.log('ðŸ”„ Ship-To Fields Updated:',{totalFields:shipToFields.length,lastModified:new Date(lastModified||Date.now()).toLocaleString(),fields:shipToFields.map((field,index)=>({position:index+1,id:field.id,label:field.label,placeholder:field.placeholder}))});}},[shipToFields,lastModified]);return/*#__PURE__*/_jsxs(\"div\",{className:\"ship-to-column\",children:[/*#__PURE__*/_jsx(DraggableSectionHeader,{id:\"section4\",children:\"Section 4 - SHIP TO\"}),/*#__PURE__*/_jsx(DndContext,{sensors:sensors,collisionDetection:closestCenter,onDragEnd:onShipToDragEnd,children:/*#__PURE__*/_jsx(SortableContext,{items:shipToFields.map(field=>field.id),strategy:verticalListSortingStrategy,children:/*#__PURE__*/_jsx(\"div\",{className:\"ship-to-fields-container\",children:shipToFields.map(field=>/*#__PURE__*/_jsx(SortableShipToField,{field:field,onRemove:()=>onRemoveShipToField(field.id),onLabelChange:newLabel=>onLabelChange(field.id,newLabel),onContentChange:newContent=>onContentChange(field.id,newContent,'ship-to')},field.id))})})}),/*#__PURE__*/_jsx(\"div\",{className:\"add-field-section\",children:/*#__PURE__*/_jsx(\"button\",{className:\"add-field-btn\",onClick:handleAddField,title:\"Add new ship-to field\",children:\"+\"})})]});}export default Section4ShipTo;","map":{"version":3,"names":["React","DndContext","closestCenter","SortableContext","verticalListSortingStrategy","useSortable","CSS","SortableShipToField","jsx","_jsx","jsxs","_jsxs","DraggableSectionHeader","_ref","children","id","attributes","listeners","setNodeRef","transform","transition","style","Transform","toString","_objectSpread","ref","className","title","float","opacity","fontSize","marginRight","color","Section4ShipTo","_ref2","shipToFields","sensors","onShipToDragEnd","onAddShipToField","onRemoveShipToField","onLabelChange","onContentChange","lastModified","handleAddField","newField","concat","Date","now","Math","random","substr","label","placeholder","useEffect","length","console","log","totalFields","toLocaleString","fields","map","field","index","position","collisionDetection","onDragEnd","items","strategy","onRemove","newLabel","newContent","onClick"],"sources":["/Users/waleed/Documents/GitHub/Cadbury3/src/components/Section4ShipTo.jsx"],"sourcesContent":["import React from 'react';\nimport { DndContext, closestCenter } from '@dnd-kit/core';\nimport { SortableContext, verticalListSortingStrategy, useSortable } from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport SortableShipToField from './SortableShipToField';\n\n// Draggable Section Header Component\nfunction DraggableSectionHeader({ children, id }) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n  } = useSortable({ id });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n\n  return (\n    <div \n      ref={setNodeRef} \n      style={style} \n      className=\"section-header\"\n      {...attributes} \n      {...listeners} \n      title=\"Drag to reorder sections\"\n    >\n      {children}\n      <span className=\"drag-indicator\" style={{ \n        float: 'right', \n        opacity: 1,\n        fontSize: '12px',\n        marginRight: '8px',\n        color: '#7c3aed'\n      }}>\n        ::\n      </span>\n    </div>\n  );\n}\n\nfunction Section4ShipTo({ \n  shipToFields, \n  sensors, \n  onShipToDragEnd,\n  onAddShipToField,\n  onRemoveShipToField,\n  onLabelChange,\n  onContentChange,\n  lastModified\n}) {\n  // Handler for adding new ship-to fields\n  const handleAddField = () => {\n    const newField = {\n      id: `ship-to-field-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n      label: 'New Field:',\n      placeholder: 'Enter field value'\n    };\n    onAddShipToField(newField);\n  };\n\n  // Log field changes to console for tracking\n  React.useEffect(() => {\n    // Only log when there are actual changes, not on initial render\n    if (shipToFields.length > 0) {\n      console.log('ðŸ”„ Ship-To Fields Updated:', {\n        totalFields: shipToFields.length,\n        lastModified: new Date(lastModified || Date.now()).toLocaleString(),\n        fields: shipToFields.map((field, index) => ({\n          position: index + 1,\n          id: field.id,\n          label: field.label,\n          placeholder: field.placeholder\n        }))\n      });\n    }\n  }, [shipToFields, lastModified]);\n\n  return (\n    <div className=\"ship-to-column\">\n      {/* Section Header with Drag Handle */}\n      <DraggableSectionHeader id=\"section4\">\n        Section 4 - SHIP TO\n      </DraggableSectionHeader>\n      \n      {/* Ship-To Fields with Drag and Drop */}\n      <DndContext \n        sensors={sensors}\n        collisionDetection={closestCenter}\n        onDragEnd={onShipToDragEnd}\n      >\n        <SortableContext \n          items={shipToFields.map(field => field.id)}\n          strategy={verticalListSortingStrategy}\n        >\n          <div className=\"ship-to-fields-container\">\n            {shipToFields.map(field => (\n              <SortableShipToField \n                key={field.id} \n                field={field}\n                onRemove={() => onRemoveShipToField(field.id)}\n                onLabelChange={(newLabel) => onLabelChange(field.id, newLabel)}\n                onContentChange={(newContent) => onContentChange(field.id, newContent, 'ship-to')}\n              />\n            ))}\n          </div>\n        </SortableContext>\n      </DndContext>\n\n      {/* Add Field Button */}\n      <div className=\"add-field-section\">\n        <button \n          className=\"add-field-btn\" \n          onClick={handleAddField}\n          title=\"Add new ship-to field\"\n        >\n          +\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default Section4ShipTo;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}