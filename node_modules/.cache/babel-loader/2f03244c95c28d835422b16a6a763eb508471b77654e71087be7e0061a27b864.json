{"ast":null,"code":"import _objectSpread from\"/Users/waleed/Documents/GitHub/Cadbury3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{useSortable}from'@dnd-kit/sortable';import{CSS}from'@dnd-kit/utilities';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SortablePurchaseOrderField(_ref){let{field,onRemove,onLabelChange,onContentChange,section}=_ref;// Drag and drop functionality\nconst{attributes,listeners,setNodeRef,transform,transition}=useSortable({id:field.id});// Apply drag transform styles\nconst style={transform:CSS.Transform.toString(transform),transition};// Event handlers\nconst handleRemove=()=>{if(onRemove){onRemove(field.id);}};const handleLabelChange=event=>{if(onLabelChange){onLabelChange(field.id,event.target.textContent);}};const handleContentChange=event=>{if(onContentChange){onContentChange(field.id,event.target.textContent,section);}};const handleKeyDown=e=>{if(e.key==='Enter'){e.preventDefault();e.target.blur();}};// Don't show remove button for title fields\nconst canRemove=onRemove&&!field.isTitle;return/*#__PURE__*/_jsxs(\"div\",{ref:setNodeRef,style:style,className:\"po-field-item\",\"data-field\":field.id,children:[field.isTitle&&console.log('ðŸŽ¯ Rendering title field:',{id:field.id,label:field.label,isTitle:field.isTitle,className:\"field-label editable-label \".concat(field.isTitle?'title-field':''),dataIsTitle:field.isTitle}),!field.isTitle&&/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread(_objectSpread({className:\"drag-handle\"},attributes),listeners),{},{children:\"::\"})),/*#__PURE__*/_jsxs(\"div\",{className:\"po-field-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"field-label editable-label \".concat(field.isTitle?'title-field':''),contentEditable:!field.isTitle,suppressContentEditableWarning:true,onBlur:handleLabelChange,onKeyDown:handleKeyDown,\"data-is-title\":field.isTitle,style:field.isTitle?{fontSize:'32px',fontWeight:'bold',color:'#000000',textAlign:'center',display:'block',width:'100%',marginBottom:'10px'}:{},children:field.label}),!field.isTitle&&/*#__PURE__*/_jsx(\"span\",{id:field.id,className:\"editable-field\",contentEditable:\"true\",\"data-placeholder\":field.placeholder,dangerouslySetInnerHTML:{__html:field.value||field.placeholder}})]}),canRemove&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"remove-field-btn\",onClick:handleRemove,title:\"Remove field\",children:\"\\xD7\"})]});}export default SortablePurchaseOrderField;","map":{"version":3,"names":["React","useSortable","CSS","jsx","_jsx","jsxs","_jsxs","SortablePurchaseOrderField","_ref","field","onRemove","onLabelChange","onContentChange","section","attributes","listeners","setNodeRef","transform","transition","id","style","Transform","toString","handleRemove","handleLabelChange","event","target","textContent","handleContentChange","handleKeyDown","e","key","preventDefault","blur","canRemove","isTitle","ref","className","children","console","log","label","concat","dataIsTitle","_objectSpread","contentEditable","suppressContentEditableWarning","onBlur","onKeyDown","fontSize","fontWeight","color","textAlign","display","width","marginBottom","placeholder","dangerouslySetInnerHTML","__html","value","type","onClick","title"],"sources":["/Users/waleed/Documents/GitHub/Cadbury3/src/components/SortablePurchaseOrderField.jsx"],"sourcesContent":["import React from 'react';\nimport { useSortable } from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\n\nfunction SortablePurchaseOrderField({ field, onRemove, onLabelChange, onContentChange, section }) {\n  // Drag and drop functionality\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n  } = useSortable({ id: field.id });\n\n  // Apply drag transform styles\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n\n  // Event handlers\n  const handleRemove = () => {\n    if (onRemove) {\n      onRemove(field.id);\n    }\n  };\n\n  const handleLabelChange = (event) => {\n    if (onLabelChange) {\n      onLabelChange(field.id, event.target.textContent);\n    }\n  };\n\n  const handleContentChange = (event) => {\n    if (onContentChange) {\n      onContentChange(field.id, event.target.textContent, section);\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      e.target.blur();\n    }\n  };\n\n  // Don't show remove button for title fields\n  const canRemove = onRemove && !field.isTitle;\n\n  return (\n    <div ref={setNodeRef} style={style} className=\"po-field-item\" data-field={field.id}>\n      {/* Debug logging for title fields */}\n      {field.isTitle && console.log('ðŸŽ¯ Rendering title field:', {\n        id: field.id,\n        label: field.label,\n        isTitle: field.isTitle,\n        className: `field-label editable-label ${field.isTitle ? 'title-field' : ''}`,\n        dataIsTitle: field.isTitle\n      })}\n      \n      {/* Drag Handle - Only show for non-title fields */}\n      {!field.isTitle && (\n        <div className=\"drag-handle\" {...attributes} {...listeners}>\n          ::\n        </div>\n      )}\n\n      {/* Field Content */}\n      <div className=\"po-field-content\">\n        <span \n          className={`field-label editable-label ${field.isTitle ? 'title-field' : ''}`}\n          contentEditable={!field.isTitle}\n          suppressContentEditableWarning={true}\n          onBlur={handleLabelChange}\n          onKeyDown={handleKeyDown}\n          data-is-title={field.isTitle}\n          style={field.isTitle ? {\n            fontSize: '32px',\n            fontWeight: 'bold',\n            color: '#000000',\n            textAlign: 'center',\n            display: 'block',\n            width: '100%',\n            marginBottom: '10px'\n          } : {}}\n        >\n          {field.label}\n        </span>\n        {!field.isTitle && (\n          <span \n            id={field.id} \n            className=\"editable-field\" \n            contentEditable=\"true\" \n            data-placeholder={field.placeholder}\n            dangerouslySetInnerHTML={{ __html: field.value || field.placeholder }}\n          />\n        )}\n      </div>\n\n      {/* Remove Button (only for non-title fields) */}\n      {canRemove && (\n        <button \n          type=\"button\" \n          className=\"remove-field-btn\"\n          onClick={handleRemove}\n          title=\"Remove field\"\n        >\n          Ã—\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default SortablePurchaseOrderField;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}