{"ast":null,"code":"import _objectSpread from\"/Users/waleed/Documents/GitHub/Cadbury3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{DndContext,closestCenter}from'@dnd-kit/core';import{SortableContext,verticalListSortingStrategy,useSortable}from'@dnd-kit/sortable';import{CSS}from'@dnd-kit/utilities';import SortablePurchaseOrderField from'./SortablePurchaseOrderField';// Draggable Section Header Component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function DraggableSectionHeader(_ref){let{children,id}=_ref;const{attributes,listeners,setNodeRef,transform,transition}=useSortable({id});const style={transform:CSS.Transform.toString(transform),transition};return/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread(_objectSpread({ref:setNodeRef,style:style,className:\"section-header\"},attributes),listeners),{},{title:\"Drag to reorder sections\",children:[children,/*#__PURE__*/_jsx(\"span\",{className:\"drag-indicator\",style:{float:'right',opacity:0.7,fontSize:'12px',marginRight:'8px'},children:\"::\"})]}));}function Section2PurchaseOrder(_ref2){let{purchaseOrderFields,sensors,onPurchaseOrderDragEnd,onAddPurchaseOrderField,onRemovePurchaseOrderField,onLabelChange,onContentChange,lastModified}=_ref2;// Handler for adding new purchase order fields\nconst handleAddField=()=>{const newField={id:\"po-field-\".concat(Date.now(),\"-\").concat(Math.random().toString(36).substr(2,9)),label:'New Field:',placeholder:'Enter field value'};onAddPurchaseOrderField(newField);};// Log field changes to console for tracking\nReact.useEffect(()=>{// Only log when there are actual changes, not on initial render\nif(purchaseOrderFields.length>0){console.log('ðŸ”„ Purchase Order Fields Updated:',{totalFields:purchaseOrderFields.length,lastModified:new Date(lastModified).toLocaleString(),fields:purchaseOrderFields.map((field,index)=>({position:index+1,id:field.id,label:field.label,placeholder:field.placeholder,isTitle:field.isTitle||false}))});}},[purchaseOrderFields,lastModified]);return/*#__PURE__*/_jsxs(\"div\",{className:\"purchase-order-section\",children:[/*#__PURE__*/_jsx(DraggableSectionHeader,{id:\"section2\",children:\"Section 2\"}),/*#__PURE__*/_jsx(DndContext,{sensors:sensors,collisionDetection:closestCenter,onDragEnd:onPurchaseOrderDragEnd,children:/*#__PURE__*/_jsx(SortableContext,{items:purchaseOrderFields.map(field=>field.id),strategy:verticalListSortingStrategy,children:/*#__PURE__*/_jsx(\"div\",{className:\"po-fields-container\",children:purchaseOrderFields.map(field=>/*#__PURE__*/_jsx(SortablePurchaseOrderField,{field:field,onRemove:onRemovePurchaseOrderField,onLabelChange:onLabelChange,onContentChange:onContentChange,section:\"purchase-order\"},field.id))})})}),/*#__PURE__*/_jsx(\"div\",{className:\"add-field-section\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"add-field-btn\",onClick:handleAddField,children:\"+ Add Field\"})})]});}export default Section2PurchaseOrder;","map":{"version":3,"names":["React","DndContext","closestCenter","SortableContext","verticalListSortingStrategy","useSortable","CSS","SortablePurchaseOrderField","jsx","_jsx","jsxs","_jsxs","DraggableSectionHeader","_ref","children","id","attributes","listeners","setNodeRef","transform","transition","style","Transform","toString","_objectSpread","ref","className","title","float","opacity","fontSize","marginRight","Section2PurchaseOrder","_ref2","purchaseOrderFields","sensors","onPurchaseOrderDragEnd","onAddPurchaseOrderField","onRemovePurchaseOrderField","onLabelChange","onContentChange","lastModified","handleAddField","newField","concat","Date","now","Math","random","substr","label","placeholder","useEffect","length","console","log","totalFields","toLocaleString","fields","map","field","index","position","isTitle","collisionDetection","onDragEnd","items","strategy","onRemove","section","type","onClick"],"sources":["/Users/waleed/Documents/GitHub/Cadbury3/src/components/Section2PurchaseOrder.jsx"],"sourcesContent":["import React from 'react';\nimport { DndContext, closestCenter } from '@dnd-kit/core';\nimport { SortableContext, verticalListSortingStrategy, useSortable } from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport SortablePurchaseOrderField from './SortablePurchaseOrderField';\n\n// Draggable Section Header Component\nfunction DraggableSectionHeader({ children, id }) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n  } = useSortable({ id });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n\n  return (\n    <div \n      ref={setNodeRef} \n      style={style} \n      className=\"section-header\"\n      {...attributes} \n      {...listeners} \n      title=\"Drag to reorder sections\"\n    >\n      {children}\n      <span className=\"drag-indicator\" style={{ \n        float: 'right', \n        opacity: 0.7, \n        fontSize: '12px',\n        marginRight: '8px'\n      }}>\n        ::\n      </span>\n    </div>\n  );\n}\n\nfunction Section2PurchaseOrder({ \n  purchaseOrderFields, \n  sensors, \n  onPurchaseOrderDragEnd,\n  onAddPurchaseOrderField,\n  onRemovePurchaseOrderField,\n  onLabelChange,\n  onContentChange,\n  lastModified\n}) {\n  // Handler for adding new purchase order fields\n  const handleAddField = () => {\n    const newField = {\n      id: `po-field-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n      label: 'New Field:',\n      placeholder: 'Enter field value'\n    };\n    onAddPurchaseOrderField(newField);\n  };\n\n  // Log field changes to console for tracking\n  React.useEffect(() => {\n    // Only log when there are actual changes, not on initial render\n    if (purchaseOrderFields.length > 0) {\n      console.log('ðŸ”„ Purchase Order Fields Updated:', {\n        totalFields: purchaseOrderFields.length,\n        lastModified: new Date(lastModified).toLocaleString(),\n        fields: purchaseOrderFields.map((field, index) => ({\n          position: index + 1,\n          id: field.id,\n          label: field.label,\n          placeholder: field.placeholder,\n          isTitle: field.isTitle || false\n        }))\n      });\n    }\n  }, [purchaseOrderFields, lastModified]);\n\n  return (\n    <div className=\"purchase-order-section\">\n      {/* Section Header with Drag Handle */}\n      <DraggableSectionHeader id=\"section2\">\n        Section 2\n      </DraggableSectionHeader>\n      \n      {/* Purchase Order Fields with Drag and Drop */}\n      <DndContext \n        sensors={sensors}\n        collisionDetection={closestCenter}\n        onDragEnd={onPurchaseOrderDragEnd}\n      >\n        <SortableContext \n          items={purchaseOrderFields.map(field => field.id)}\n          strategy={verticalListSortingStrategy}\n        >\n          <div className=\"po-fields-container\">\n            {purchaseOrderFields.map(field => (\n              <SortablePurchaseOrderField \n                key={field.id} \n                field={field} \n                onRemove={onRemovePurchaseOrderField}\n                onLabelChange={onLabelChange}\n                onContentChange={onContentChange}\n                section=\"purchase-order\"\n              />\n            ))}\n          </div>\n        </SortableContext>\n      </DndContext>\n      \n      {/* Add Field Button */}\n      <div className=\"add-field-section\">\n        <button \n          type=\"button\" \n          className=\"add-field-btn\"\n          onClick={handleAddField}\n        >\n          + Add Field\n        </button>\n      </div>\n\n\n    </div>\n  );\n}\n\nexport default Section2PurchaseOrder;\n"],"mappings":"4HAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,UAAU,CAAEC,aAAa,KAAQ,eAAe,CACzD,OAASC,eAAe,CAAEC,2BAA2B,CAAEC,WAAW,KAAQ,mBAAmB,CAC7F,OAASC,GAAG,KAAQ,oBAAoB,CACxC,MAAO,CAAAC,0BAA0B,KAAM,8BAA8B,CAErE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,QAAS,CAAAC,sBAAsBA,CAAAC,IAAA,CAAmB,IAAlB,CAAEC,QAAQ,CAAEC,EAAG,CAAC,CAAAF,IAAA,CAC9C,KAAM,CACJG,UAAU,CACVC,SAAS,CACTC,UAAU,CACVC,SAAS,CACTC,UACF,CAAC,CAAGf,WAAW,CAAC,CAAEU,EAAG,CAAC,CAAC,CAEvB,KAAM,CAAAM,KAAK,CAAG,CACZF,SAAS,CAAEb,GAAG,CAACgB,SAAS,CAACC,QAAQ,CAACJ,SAAS,CAAC,CAC5CC,UACF,CAAC,CAED,mBACET,KAAA,OAAAa,aAAA,CAAAA,aAAA,CAAAA,aAAA,EACEC,GAAG,CAAEP,UAAW,CAChBG,KAAK,CAAEA,KAAM,CACbK,SAAS,CAAC,gBAAgB,EACtBV,UAAU,EACVC,SAAS,MACbU,KAAK,CAAC,0BAA0B,CAAAb,QAAA,EAE/BA,QAAQ,cACTL,IAAA,SAAMiB,SAAS,CAAC,gBAAgB,CAACL,KAAK,CAAE,CACtCO,KAAK,CAAE,OAAO,CACdC,OAAO,CAAE,GAAG,CACZC,QAAQ,CAAE,MAAM,CAChBC,WAAW,CAAE,KACf,CAAE,CAAAjB,QAAA,CAAC,IAEH,CAAM,CAAC,GACJ,CAAC,CAEV,CAEA,QAAS,CAAAkB,qBAAqBA,CAAAC,KAAA,CAS3B,IAT4B,CAC7BC,mBAAmB,CACnBC,OAAO,CACPC,sBAAsB,CACtBC,uBAAuB,CACvBC,0BAA0B,CAC1BC,aAAa,CACbC,eAAe,CACfC,YACF,CAAC,CAAAR,KAAA,CACC;AACA,KAAM,CAAAS,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAAC,QAAQ,CAAG,CACf5B,EAAE,aAAA6B,MAAA,CAAcC,IAAI,CAACC,GAAG,CAAC,CAAC,MAAAF,MAAA,CAAIG,IAAI,CAACC,MAAM,CAAC,CAAC,CAACzB,QAAQ,CAAC,EAAE,CAAC,CAAC0B,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CACvEC,KAAK,CAAE,YAAY,CACnBC,WAAW,CAAE,mBACf,CAAC,CACDd,uBAAuB,CAACM,QAAQ,CAAC,CACnC,CAAC,CAED;AACA3C,KAAK,CAACoD,SAAS,CAAC,IAAM,CACpB;AACA,GAAIlB,mBAAmB,CAACmB,MAAM,CAAG,CAAC,CAAE,CAClCC,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAE,CAC/CC,WAAW,CAAEtB,mBAAmB,CAACmB,MAAM,CACvCZ,YAAY,CAAE,GAAI,CAAAI,IAAI,CAACJ,YAAY,CAAC,CAACgB,cAAc,CAAC,CAAC,CACrDC,MAAM,CAAExB,mBAAmB,CAACyB,GAAG,CAAC,CAACC,KAAK,CAAEC,KAAK,IAAM,CACjDC,QAAQ,CAAED,KAAK,CAAG,CAAC,CACnB9C,EAAE,CAAE6C,KAAK,CAAC7C,EAAE,CACZmC,KAAK,CAAEU,KAAK,CAACV,KAAK,CAClBC,WAAW,CAAES,KAAK,CAACT,WAAW,CAC9BY,OAAO,CAAEH,KAAK,CAACG,OAAO,EAAI,KAC5B,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CACF,CAAC,CAAE,CAAC7B,mBAAmB,CAAEO,YAAY,CAAC,CAAC,CAEvC,mBACE9B,KAAA,QAAKe,SAAS,CAAC,wBAAwB,CAAAZ,QAAA,eAErCL,IAAA,CAACG,sBAAsB,EAACG,EAAE,CAAC,UAAU,CAAAD,QAAA,CAAC,WAEtC,CAAwB,CAAC,cAGzBL,IAAA,CAACR,UAAU,EACTkC,OAAO,CAAEA,OAAQ,CACjB6B,kBAAkB,CAAE9D,aAAc,CAClC+D,SAAS,CAAE7B,sBAAuB,CAAAtB,QAAA,cAElCL,IAAA,CAACN,eAAe,EACd+D,KAAK,CAAEhC,mBAAmB,CAACyB,GAAG,CAACC,KAAK,EAAIA,KAAK,CAAC7C,EAAE,CAAE,CAClDoD,QAAQ,CAAE/D,2BAA4B,CAAAU,QAAA,cAEtCL,IAAA,QAAKiB,SAAS,CAAC,qBAAqB,CAAAZ,QAAA,CACjCoB,mBAAmB,CAACyB,GAAG,CAACC,KAAK,eAC5BnD,IAAA,CAACF,0BAA0B,EAEzBqD,KAAK,CAAEA,KAAM,CACbQ,QAAQ,CAAE9B,0BAA2B,CACrCC,aAAa,CAAEA,aAAc,CAC7BC,eAAe,CAAEA,eAAgB,CACjC6B,OAAO,CAAC,gBAAgB,EALnBT,KAAK,CAAC7C,EAMZ,CACF,CAAC,CACC,CAAC,CACS,CAAC,CACR,CAAC,cAGbN,IAAA,QAAKiB,SAAS,CAAC,mBAAmB,CAAAZ,QAAA,cAChCL,IAAA,WACE6D,IAAI,CAAC,QAAQ,CACb5C,SAAS,CAAC,eAAe,CACzB6C,OAAO,CAAE7B,cAAe,CAAA5B,QAAA,CACzB,aAED,CAAQ,CAAC,CACN,CAAC,EAGH,CAAC,CAEV,CAEA,cAAe,CAAAkB,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}